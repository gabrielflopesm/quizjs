<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Quiz!</title>
    <link rel="stylesheet" href="style.css">
<!-- Latest compiled and minified CSS -->
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">

<!-- Latest compiled JavaScript -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script> 

</head>
<body>
    <div class="container">

        <h1>Quiz!</h1>
        <h2>Pergunta</h2>

        <h3>
            <span>A</span>
            Resposta
        </h3>

        <h3>
            <span>B</span>
            Resposta
        </h3>

        <h3>
            <span>C</span>
            Resposta
        </h3>

        <h3>
            <span>D</span>
            Resposta
        </h3>

        <div>
            <button class="btn btn-primary" onclick="next()">Next</button> 
        </div>

    </div>

 <script>

    function verificarResposta(i) {
        if(quiz.ponto >= 0) return;


        document.querySelectorAll('h3')[i].style.backgroundColor = '#ff5555';
        document.querySelectorAll('h3')[quiz.correta].style.backgroundColor = '#56c856';
        if(i == quiz.correta) {
            quiz.ponto = 1;
        }else {
            quiz.ponto = 0;
        }

    }

    let lsPergunta = [
{
    pergunta: "Qual foi o ano do último titulo brasileiro na Copa do Mundo?",
    respostas: ["1970", "2002", "1962", "1994"],
    correta: 1
},
{
    pergunta: "Qual nome do atual presidente dos Estados Unidos?",
    respostas: ["Donald Trump", "Joe Biden", "George Bush", "Dwight Eisenhower"],
    correta: 1
},
{
    pergunta: "Qual maior planeta do Sistema Solar?",
    respostas: ["Júpiter", "Saturno", "Urano", "Netuno"],
    correta: 0
},


    ]; 

    let quiz = {};    
    function carregarQuiz(nPergunta) {
        quiz = lsPergunta[nPergunta];
        document.querySelector('h2').innerHTML = quiz.pergunta;
        for (let i = 0; i < 4; i++) {
            document.querySelectorAll('h3')[i].style.backgroundColor = '#cccccc';
            document.querySelectorAll('h3')[i].innerHTML = quiz.respostas[i];
            let x = i;
            document.querySelectorAll('h3')[i].addEventListener('click', () => {verificarResposta(x)}) // seleciona todos os elementos h3 através do querySelectorAll e adiciona o evento de click a eles, o que irá ativar a função verificarResposta()
        
        }
        
    }

    let quizAtual = 0; 
    carregarQuiz(quizAtual);  
    function next(){
        if (quiz.ponto == undefined) {
            alert('Selecione uma resposta!');
            return;
        }
        if (quizAtual == lsPergunta.length-1) return;
        carregarQuiz(++quizAtual);
        
    }


 </script>

</body>
</html>